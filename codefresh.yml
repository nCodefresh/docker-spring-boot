version: '1.0'

steps:
  build-step-name:
    type: build
    description: spring maven project
    image-name: ncodefresh/docker-spring-boot
    dockerfile: Dockerfile
    tag: latest

  push_step:
    type: push
    description: Free text description
    candidate: ${{build_prj}}
    tag: ${{CF_BRANCH}}
    registry: ${{AWS_REGISTRY}}
    accessKeyId: ${{AWS_ACCESS_KEY}}
    secretAccessKey: ${{AWS_SECRET_KEY}}
    region: ${{AWS_REGION}}
    fail-fast: false

#  push-to-dockerhub:
#    type: push
#    candidate: ${{build-step-name}}
#    tag: latest
